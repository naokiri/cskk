[metadata]
name = "default"
description = "test typing rule"

[conversion]
a = ["", "あ"]
ba = ["", "ば"]
tsU = ["", "ちいさいっ"]

[command]
# Hiraganaモード時のコマンド
[direct.hiragana]
"l" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(Ascii)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"L" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(Zenkaku)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"C-q" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(HankakuKatakana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(Katakana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"Q" = ["ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-j" = ["FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"C-G" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"Return" = ["ConfirmDirect"]
"C-m" = ["ConfirmDirect"]
"BackSpace" = ["DeleteDirect"]
"C-h" = ["DeleteDirect"]
"C-H" = ["DeleteDirect"]
# Katakanaモード時のコマンド
[direct.katakana]
"C-g" = ["Abort"]
"l" = ["OutputNNIfAny(Katakana)", "ChangeInputMode(Ascii)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"L" = ["OutputNNIfAny(Katakana)", "ChangeInputMode(Zenkaku)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"C-q" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(HankakuKatakana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Katakana)", "ChangeInputMode(Hiragana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"Q" = ["ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-j" = ["FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"C-G" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"Return" = ["ConfirmDirect"]
"C-m" = ["ConfirmDirect"]
"BackSpace" = ["DeleteDirect"]
"C-h" = ["DeleteDirect"]
"C-H" = ["DeleteDirect"]
# 半角カナ(JIS X 0201 カナ)モード時のコマンド
[direct.hankakukatakana]
"C-g" = ["Abort"]
"l" = ["OutputNNIfAny(HankakuKatakana)", "ChangeInputMode(Ascii)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"L" = ["OutputNNIfAny(HankakuKatakana)", "ChangeInputMode(Zenkaku)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"C-q" = ["OutputNNIfAny(Hiragana)", "ChangeInputMode(Hiragana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(HankakuKatakana)", "ChangeInputMode(Hiragana)", "FlushPreviousCarryOver", "FinishKeyEvent"]
"Q" = ["ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-j" = ["FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"C-G" = ["FlushPreviousCarryOver", "Abort", "FinishKeyEvent"]
"Return" = ["ConfirmDirect"]
"C-m" = ["ConfirmDirect"]
"BackSpace" = ["DeleteDirect"]
"C-h" = ["DeleteDirect"]
"C-H" = ["DeleteDirect"]
# 全角英数モード時のコマンド
[direct.zenkaku]
"C-g" = ["Abort", "FinishKeyEvent"]
"C-j" = ["ChangeInputMode(Hiragana)", "FinishKeyEvent"]
"Return" = ["ConfirmDirect"]
"C-m" = ["ConfirmDirect"]
"BackSpace" = ["DeleteDirect"]
"C-h" = ["DeleteDirect"]
"C-H" = ["DeleteDirect"]
# asciiモードという名称はddskk由来。いわゆるlatinモードでのコマンド
[direct.ascii]
"C-g" = ["Abort", "FinishKeyEvent"]
"C-j" = ["ChangeInputMode(Hiragana)", "FinishKeyEvent"]
"Return" = ["ConfirmDirect"]
"C-m" = ["ConfirmDirect"]
"BackSpace" = ["DeleteDirect"]
"C-h" = ["DeleteDirect"]
"C-H" = ["DeleteDirect"]

[pre_composition.hiragana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Katakana)", "FlushPreviousCarryOver", "ConfirmAsKatakana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsHiragana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]
[pre_composition.katakana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsHiragana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(Katakana)", "FlushPreviousCarryOver", "ConfirmAsKatakana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]
[pre_composition.hankakukatakana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsHiragana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(HankakuKatakana)", "FlushPreviousCarryOver", "ConfirmAsJISX0201", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]

[pre_compisition_okurigana.hiragana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Katakana)", "FlushPreviousCarryOver", "ConfirmAsKatakana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsHiragana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]
[pre_compisition_okurigana.katakana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsHiragana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(Katakana)", "FlushPreviousCarryOver", "ConfirmAsKatakana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]
[pre_compisition_okurigana.hankakukatakana]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"q" = ["OutputNNIfAny(Hiragana)", "FlushPreviousCarryOver", "ConfirmAsKatakana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Q" = ["FinishKeyEvent"]
"C-q" = ["FlushPreviousCarryOver", "ConfirmAsJISX0201", "FinishKeyEvent"]
"C-g" = ["FlushPreviousCarryOver", "FlushConvertedKana", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["OutputNNIfAny(HankakuKatakana)", "FlushPreviousCarryOver", "ConfirmAsJISX0201", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"BackSpace" = ["DeletePrecomposition", "FinishKeyEvent"]
"C-h" = ["DeletePrecomposition", "FinishKeyEvent"]
[composition_selection.hiragana]
"Return" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Escape" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-g" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"X" = ["Purge", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"x" = ["TryPreviousCandidate", "FinishKeyEvent"]
"BackSpace" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"C-h" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(Katakana)", "FinishKeyEvent"]
"C-q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(HankakuKatakana)", "FinishKeyEvent"]
[composition_selection.katakana]
"Return" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Escape" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-g" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"X" = ["Purge", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"BackSpace" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"C-h" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(Hiragana)", "FinishKeyEvent"]
"C-q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(HankakuKatakana)", "FinishKeyEvent"]
[composition_selection.hankakukatakana]
"Return" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"C-j" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"Escape" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"C-g" = ["Abort", "ChangeCompositionMode(PreComposition)", "FinishKeyEvent"]
"X" = ["Purge", "ChangeCompositionMode(Direct)", "FinishKeyEvent"]
"space" = ["TryNextCandidate", "FinishKeyEvent"]
"BackSpace" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"C-h" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "DeleteDirect", "FinishKeyEvent"]
"q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(Hiragana)", "FinishKeyEvent"]
"C-q" = ["ConfirmComposition", "ChangeCompositionMode(Direct)", "ChangeInputMode(Hiragana)", "FinishKeyEvent"]